# üí¨üéâ Live Chat & Reactions

‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå Live Chat ‡πÅ‡∏•‡∏∞ Emoji Reactions ‡πÅ‡∏ö‡∏ö Real-time ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏ô‡∏∏‡∏Å‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏°‡∏µ‡∏™‡πà‡∏ß‡∏ô‡∏£‡πà‡∏ß‡∏°‡πÉ‡∏ô‡πÄ‡∏Å‡∏°!

---

## ‚ú® ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå

### üí¨ **Live Chat**
- ‡πÅ‡∏ä‡∏ó‡πÅ‡∏ö‡∏ö Real-time ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏£‡∏≠‡πÉ‡∏ô‡∏´‡πâ‡∏≠‡∏á Lobby
- ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÄ‡∏Å‡∏°
- ‡πÅ‡∏™‡∏î‡∏á Avatar ‡πÅ‡∏•‡∏∞ Nickname ‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏™‡πà‡∏á
- Scroll ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏´‡∏°‡πà
- ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° 200 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£

### üéä **Live Reactions**
- ‡∏™‡πà‡∏á Emoji reactions ‡πÅ‡∏ö‡∏ö Real-time
- 8 emoji ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô: ‚ù§Ô∏è üòÇ üòÆ üò¢ üî• üëç üëè üéâ
- ‡πÅ‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏•‡∏≠‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏° (5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)
- ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á‡πÉ‡∏ô‡∏´‡πâ‡∏≠‡∏á Lobby ‡πÅ‡∏•‡∏∞‡∏Ç‡∏ì‡∏∞‡πÄ‡∏•‡πà‡∏ô‡∏Ñ‡∏ß‡∏¥‡∏ã
- ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡πÄ‡∏´‡πá‡∏ô reactions ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô

---

## üìã ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á

### 1. ‡∏£‡∏±‡∏ô SQL Migration

‡πÄ‡∏õ‡∏¥‡∏î Supabase Dashboard ‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ô SQL file:

```bash
supabase/add_chat_and_reactions.sql
```

‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å SQL ‡πÑ‡∏õ‡∏£‡∏±‡∏ô‡πÉ‡∏ô Supabase SQL Editor:

**‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á:**
- `chat_messages` - ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ä‡∏ó
- `reactions` - ‡πÄ‡∏Å‡πá‡∏ö emoji reactions

**‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ RLS (Row Level Security):**
- ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏ô‡πÄ‡∏Å‡∏°‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô‡πÅ‡∏ä‡∏ó‡πÅ‡∏•‡∏∞ reactions
- ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡πÄ‡∏Å‡∏°‡∏≠‡∏∑‡πà‡∏ô

### 2. Components ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á

‡πÑ‡∏ü‡∏•‡πå component ‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡πâ‡∏ß:

```
src/components/
‚îú‚îÄ‚îÄ LiveChat.tsx         # Chat component
‚îî‚îÄ‚îÄ LiveReactions.tsx    # Reactions component
```

### 3. Integration (‡∏ó‡∏≥‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß)

Components ‡∏ñ‡∏π‡∏Å integrate ‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡πÅ‡∏•‡πâ‡∏ß:

- ‚úÖ **Player Lobby** (`src/app/game/[id]/lobby.tsx`)
  - ‡πÅ‡∏™‡∏î‡∏á Live Chat ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡πâ‡∏ß
  - ‡∏°‡∏µ‡∏õ‡∏∏‡πà‡∏° Reactions ‡πÅ‡∏ö‡∏ö‡∏•‡∏≠‡∏¢

- ‚úÖ **Quiz Phase** (`src/app/game/[id]/quiz.tsx`)
  - ‡∏°‡∏µ‡∏õ‡∏∏‡πà‡∏° Reactions ‡∏Ç‡∏ì‡∏∞‡πÄ‡∏•‡πà‡∏ô‡∏Ñ‡∏ß‡∏¥‡∏ã
  - ‡∏™‡πà‡∏á reactions ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÑ‡∏î‡πâ/‡∏ú‡∏¥‡∏î

---

## üéÆ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô (Player):

#### 1. **‡πÉ‡∏ä‡πâ Live Chat ‡πÉ‡∏ô Lobby:**

1. ‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏Å‡∏° ‡πÅ‡∏•‡∏∞‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô (‡πÉ‡∏™‡πà nickname)
2. ‡∏´‡∏ô‡πâ‡∏≤ Lobby ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á Chat box ‡∏ó‡∏≤‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡∏ß‡∏≤
3. ‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á "Type a message..."
4. ‡∏Å‡∏î "Send" ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏î Enter
5. ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏∞‡∏õ‡∏£‡∏≤‡∏Å‡∏è‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÉ‡∏´‡πâ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡πÄ‡∏´‡πá‡∏ô

**Tips:**
- ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Å‡πà‡∏≤‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÇ‡∏´‡∏•‡∏î‡∏°‡∏≤‡πÅ‡∏™‡∏î‡∏á‡∏î‡πâ‡∏ß‡∏¢ (100 ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î)
- ‡∏™‡∏µ‡∏ü‡πâ‡∏≤ = ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô
- ‡∏™‡∏µ‡∏°‡πà‡∏ß‡∏á = ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì

#### 2. **‡∏™‡πà‡∏á Reactions:**

**‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Lobby:**
1. ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢ (‡∏°‡∏∏‡∏°‡∏Ç‡∏ß‡∏≤‡∏•‡πà‡∏≤‡∏á) üòä
2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å emoji ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
3. Emoji ‡∏à‡∏∞‡∏•‡∏≠‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô!

**‡∏Ç‡∏ì‡∏∞‡πÄ‡∏•‡πà‡∏ô‡∏Ñ‡∏ß‡∏¥‡∏ã:**
1. ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô - ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢‡∏°‡∏∏‡∏°‡∏Ç‡∏ß‡∏≤‡∏•‡πà‡∏≤‡∏á
2. ‡∏™‡πà‡∏á reactions ‡πÑ‡∏î‡πâ‡∏ï‡∏•‡∏≠‡∏î‡πÄ‡∏ß‡∏•‡∏≤
3. ‡πÉ‡∏ä‡πâ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å (‡∏î‡∏µ‡πÉ‡∏à, ‡πÄ‡∏™‡∏µ‡∏¢‡πÉ‡∏à, ‡∏ï‡∏∑‡πà‡∏ô‡πÄ‡∏ï‡πâ‡∏ô)

---

## üèóÔ∏è ‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°

### Database Schema:

```sql
-- Chat Messages
chat_messages
‚îú‚îÄ‚îÄ id (UUID, Primary Key)
‚îú‚îÄ‚îÄ game_id (UUID, Foreign Key -> games)
‚îú‚îÄ‚îÄ participant_id (UUID, Foreign Key -> participants)
‚îú‚îÄ‚îÄ message (TEXT)
‚îî‚îÄ‚îÄ created_at (TIMESTAMP)

-- Reactions
reactions
‚îú‚îÄ‚îÄ id (UUID, Primary Key)
‚îú‚îÄ‚îÄ game_id (UUID, Foreign Key -> games)
‚îú‚îÄ‚îÄ participant_id (UUID, Foreign Key -> participants)
‚îú‚îÄ‚îÄ emoji (VARCHAR)
‚îî‚îÄ‚îÄ created_at (TIMESTAMP)
```

### Real-time Flow:

```
Player 1 sends message
      ‚Üì
INSERT into chat_messages
      ‚Üì
Supabase Real-time Broadcast
      ‚Üì
All connected players receive update
      ‚Üì
Messages appear instantly
```

---

## üé® Customization

### ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô Emoji ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ:

‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå `src/components/LiveReactions.tsx`:

```typescript
const EMOJI_OPTIONS = [
  { emoji: '‚ù§Ô∏è', label: 'Love' },
  { emoji: 'üòÇ', label: 'Laugh' },
  // ‡πÄ‡∏û‡∏¥‡πà‡∏°/‡∏•‡∏ö emoji ‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
  { emoji: 'üéØ', label: 'Bullseye' },
]
```

### ‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏ä‡∏±‡πà‡∏ô Reactions:

‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô:

```typescript
// ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î 48 - ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å 5000 (5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ) ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡∏≠‡∏∑‡πà‡∏ô
setTimeout(() => {
  setFloatingReactions(prev =>
    prev.filter(r => r.id !== newReaction.id)
  )
}, 5000) // ‚¨ÖÔ∏è ‡πÅ‡∏Å‡πâ‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ
```

### ‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î:

‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç `src/components/LiveChat.tsx`:

```tsx
<input
  type="text"
  maxLength={200}  // ‚¨ÖÔ∏è ‡πÅ‡∏Å‡πâ‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ (‡∏Ñ‡πà‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô: 200)
  ...
/>
```

---

## üîß Advanced Features

### Auto-delete Old Reactions (‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥):

‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô SQL ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏•‡∏ö reactions ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πà‡∏≤‡∏Å‡∏ß‡πà‡∏≤ 10 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ:

```sql
SELECT cleanup_old_reactions();
```

‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÉ‡∏ô cron job ‡∏´‡∏£‡∏∑‡∏≠ edge function:

```typescript
// Supabase Edge Function
setInterval(async () => {
  await supabase.rpc('cleanup_old_reactions')
}, 60000) // ‡∏ó‡∏∏‡∏Å 1 ‡∏ô‡∏≤‡∏ó‡∏µ
```

### ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô (Rate Limiting):

‡πÄ‡∏û‡∏¥‡πà‡∏° logic ‡πÉ‡∏ô `LiveChat.tsx`:

```typescript
const [lastMessageTime, setLastMessageTime] = useState(0)

const handleSendMessage = async (e) => {
  e.preventDefault()

  // Rate limit: 1 message per 2 seconds
  const now = Date.now()
  if (now - lastMessageTime < 2000) {
    alert('Please wait before sending another message')
    return
  }

  // ... existing code ...
  setLastMessageTime(now)
}
```

---

## üìä Analytics Ideas

‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå:

1. **Most Used Emoji:**
```sql
SELECT emoji, COUNT(*) as usage_count
FROM reactions
GROUP BY emoji
ORDER BY usage_count DESC
LIMIT 5;
```

2. **Most Active Chatters:**
```sql
SELECT p.nickname, COUNT(cm.id) as message_count
FROM chat_messages cm
JOIN participants p ON cm.participant_id = p.id
GROUP BY p.nickname
ORDER BY message_count DESC
LIMIT 10;
```

3. **Chat Activity Timeline:**
```sql
SELECT DATE_TRUNC('minute', created_at) as minute,
       COUNT(*) as messages
FROM chat_messages
WHERE created_at > NOW() - INTERVAL '1 hour'
GROUP BY minute
ORDER BY minute;
```

---

## üîí Security & Privacy

### ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà:

‚úÖ **Row-Level Security (RLS):**
- ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏ô‡πÄ‡∏Å‡∏°‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô‡πÅ‡∏ä‡∏ó
- ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô SQL injection ‡∏î‡πâ‡∏ß‡∏¢ Supabase RLS

‚úÖ **Input Validation:**
- ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° (200 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£)
- Sanitize input ‡∏Å‡πà‡∏≠‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•

‚úÖ **Authentication:**
- ‡∏ï‡πâ‡∏≠‡∏á login (anonymous) ‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
- ‡∏ó‡∏∏‡∏Å action ‡∏ú‡∏π‡∏Å‡∏Å‡∏±‡∏ö participant_id

### ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢:

#### 1. **Content Moderation (‡∏Å‡∏£‡∏≠‡∏á‡∏Ñ‡∏≥‡∏´‡∏¢‡∏≤‡∏ö):**

```typescript
const BAD_WORDS = ['xxx', 'yyy', 'zzz']

const moderateMessage = (text: string): string => {
  let moderated = text
  BAD_WORDS.forEach(word => {
    const regex = new RegExp(word, 'gi')
    moderated = moderated.replace(regex, '***')
  })
  return moderated
}

// ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô handleSendMessage:
const moderatedMessage = moderateMessage(newMessage.trim())
```

#### 2. **Report System:**

‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏∏‡πà‡∏° "Report" ‡∏Ç‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°:

```sql
CREATE TABLE message_reports (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  message_id UUID REFERENCES chat_messages(id),
  reported_by UUID REFERENCES participants(id),
  reason TEXT,
  created_at TIMESTAMP DEFAULT NOW()
);
```

---

## üéØ Use Cases

### 1. **Education (‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤):**
- ‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÅ‡∏ä‡∏ó‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏£‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏¥‡∏ã
- ‡∏Ñ‡∏£‡∏π‡∏î‡∏π‡∏Å‡∏≤‡∏£‡∏°‡∏µ‡∏™‡πà‡∏ß‡∏ô‡∏£‡πà‡∏ß‡∏°‡∏Ç‡∏≠‡∏á‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
- ‡∏™‡πà‡∏á reactions ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡∏≠‡∏ö‡∏ñ‡∏π‡∏Å (‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏à)

### 2. **Corporate Training:**
- ‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡∏Å‡∏ó‡∏≤‡∏¢‡∏Å‡∏±‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏î‡∏™‡∏≠‡∏ö
- Ice-breaking activity
- Team building ‡∏ú‡πà‡∏≤‡∏ô reactions

### 3. **Events & Competitions:**
- ‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡πÅ‡∏ä‡∏ó‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏£‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°
- ‡∏™‡πà‡∏á reactions ‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡∏≠‡∏ö‡πÄ‡∏Å‡πà‡∏á
- ‡∏™‡∏£‡πâ‡∏≤‡∏á engagement ‡∏™‡∏π‡∏á

---

## üêõ Troubleshooting

### ‚ùå ‡πÅ‡∏ä‡∏ó‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á
**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:**
1. ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏£‡∏±‡∏ô SQL migration
2. RLS policies ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
3. Network connection ‡∏õ‡∏±‡∏ç‡∏´‡∏≤

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
```sql
-- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏°‡∏µ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
SELECT * FROM chat_messages LIMIT 1;

-- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö RLS policies
SELECT * FROM pg_policies WHERE tablename = 'chat_messages';
```

### ‚ö†Ô∏è Reactions ‡πÑ‡∏°‡πà‡∏•‡∏≠‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô
**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:**
1. CSS animations ‡πÑ‡∏°‡πà‡πÇ‡∏´‡∏•‡∏î
2. z-index ‡∏ï‡πà‡∏≥‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö console errors
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö `<style jsx>` ‡πÉ‡∏ô LiveReactions.tsx

### üêå Real-time ‡∏ä‡πâ‡∏≤
**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:**
- Supabase real-time connections limit
- Network latency

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
- Upgrade Supabase plan (free tier ‡∏à‡∏≥‡∏Å‡∏±‡∏î connections)
- ‡πÉ‡∏ä‡πâ polling fallback ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö free users

---

## üöÄ Future Enhancements

Ideas ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ï‡πà‡∏≠:

- [ ] **Typing Indicators** - ‡πÅ‡∏™‡∏î‡∏á "... is typing"
- [ ] **Message Threads** - ‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏â‡∏û‡∏≤‡∏∞
- [ ] **DMs (Direct Messages)** - ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß
- [ ] **Stickers** - ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÅ‡∏ó‡∏ô‡πÅ‡∏Ñ‡πà emoji
- [ ] **GIF Support** - ‡∏™‡πà‡∏á GIF ‡∏à‡∏≤‡∏Å Giphy
- [ ] **Voice Messages** - ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏™‡πà‡∏á
- [ ] **Message Reactions** - react emoji ‡∏ö‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
- [ ] **User Mentions** - @username
- [ ] **Rich Text** - bold, italic, links
- [ ] **Message History** - ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Å‡πà‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

---

## üìù License

Same as main project.

---

**Made with ‚ù§Ô∏è using Supabase Realtime**

Enjoy your new Live Chat & Reactions feature! üéâ
